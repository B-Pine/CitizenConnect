{% extends 'base.html' %}

{% block title %}Track Complaint - CitizenConnect{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-12">
    <div class="max-w-4xl mx-auto">
        <div class="bg-white rounded-xl shadow-md overflow-hidden mb-8 animate__animated animate__fadeIn">
            <div class="gradient-bg p-6 text-white">
                <h1 class="text-2xl font-bold flex items-center">
                    <i class="fas fa-search mr-3"></i> Track Your Complaint
                </h1>
                <p class="mt-2 opacity-90">Enter your complaint reference number to check the status</p>
            </div>

            <div class="p-6">
                {% if messages %}
                <div class="mb-4">
                    {% for message in messages %}
                    <div class="p-3 rounded-lg {% if message.tags == 'error' %}bg-red-100 text-red-800{% else %}bg-blue-100 text-blue-800{% endif %}">
                        {{ message }}
                    </div>
                    {% endfor %}
                </div>
                {% endif %}
                
                <form method="POST" class="flex flex-col sm:flex-row gap-4">
                    {% csrf_token %}
                    <input type="text" 
                           name="reference_number" 
                           placeholder="Enter your reference number (e.g., CC-1234)" 
                           class="flex-grow px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"
                           required>
                    <button type="submit" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg transition transform hover:scale-105">
                        Track <i class="fas fa-search ml-2"></i>
                    </button>
                </form>
                
                <div class="mt-6 text-center text-gray-600">
                    <p>Don't have your reference number?</p>
                    <a href="{% url 'submit_complaint' %}" class="text-blue-600 hover:text-blue-800 font-medium">
                        Submit a new complaint
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}